<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://github.com/smirik/resonances/config/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Config - Mean-Motion Resonances</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Config";
        var mkdocs_page_input_path = "config.md";
        var mkdocs_page_url = "/smirik/resonances/config/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Mean-Motion Resonances
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../quick-start/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">Installation and updates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/">Examples</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Features</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../core/">Simulations and Bodies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../libration/">Libration module</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../matrix/">Resonance Matrices</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Config</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#saving-options">Saving options</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#libration-options">Libration options</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#integration-options">Integration options</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#access-to-the-parameters-of-rebound">Access to the parameters of rebound</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#astdys-and-catalogue-options">AstDyS and Catalogue options</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#matrices">Matrices</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#other">Other</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../console/">Console commands</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../about/">Copyright, license, references</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Mean-Motion Resonances</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Features &raquo;</li>
      <li>Config</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/smirik/resonances/blob/master/docs/config.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="config">Config</h1>
<p>All default config values are stored in <code>config.json</code> file in the source code. It is not recommended to change anything there.</p>
<p>If you need to change a specific config value, you can do it in the following way:</p>
<pre><code class="language-python">import resonances
resonances.config.set(KEY, VALUE)
resonances.config.set('integration.dt', 0.01)
</code></pre>
<p>The service has the method <code>has</code>, which verifies is there a config with the given key, and the method <code>get</code>, which returns the value by the given key. Note that if there is no config with the given key, <code>get</code> method will raise <code>Exception</code>.</p>
<pre><code class="language-python">import resonances
if resonances.config.has('integration.dt'):
    print('There is a config with the key = integration.dt')
    print(resonances.config.get('integration.dt'))
</code></pre>
<h2 id="saving-options">Saving options</h2>
<ul>
<li><code>save</code> (bool): if <code>true</code>, the results of the integration (including the plots) will be saved. If it is <code>false</code>, nothing will be saved. All options below work only if <code>save</code> is true.</li>
<li><code>save.path</code> (str): path to save CSV files (for all CSV files).</li>
<li><code>plot.path</code> (str): path to save plots.</li>
<li><code>save.summary</code> (bool): if <code>true</code>, then the app will create a file called <code>result.csv</code> where the results of the whole simulation (with some additional data) will be stored. In other words, it is a summary of the simulation and its result.</li>
<li><code>save.additional.data</code> (bool): if <code>true</code>, then for each object, the app will add additional information: filtered values of semi-major axis and periodograms data.</li>
<li><code>save.only.undetermined</code> (bool): if <code>true</code>, then the data will be saved only for those objects whose statuses are lower than <code>0</code> (possible pure or transient librators). This option requires <code>save</code> to be <code>true</code> and takes into account the value of <code>save.additional.data</code>. It does not affect <code>save.summary</code>.</li>
<li><code>plot</code> (bool): if <code>true</code>, then for each object, the app will create a plot containing angle, filtered axis, periodograms, and eccentricity. It works even if <code>save</code> is <code>false</code>. If <code>save.only.undetermined</code> is <code>true</code>, then the app will create figures <strong>only</strong> for the bodies with the negative statuses.</li>
</ul>
<h2 id="libration-options">Libration options</h2>
<p>See <a href="../libration/">Libration section</a> for explanation!</p>
<ul>
<li><code>libration.oscillation.filter.cutoff</code> (float): used to cutoff the frequencies that are higher that this value. By default, it is set to <code>0.001</code>, which means that all oscillations with periods lower than <code>1000</code> (effectively, <code>500</code>) will be removed by the filter.</li>
<li><code>libration.oscillation.filter.order</code> (int): used for <code>butter</code> filter. By default, <code>2</code>,</li>
<li><code>libration.periodogram.frequency.min</code> (float): the minimal frequency of the librations that will be taken into account. By default, <code>0.00001</code>. Corresponds to the period of oscillations equal to <code>100000</code> years.</li>
<li><code>libration.periodogram.frequency.max</code> (float): the maximum frequency of the librations that will be taken into account. By default, <code>0.002</code>. Corresponds to the period of oscillations equal to <code>500</code> years.</li>
<li><code>libration.periodogram.critical</code> (float): the critical value of the peaks on the periodograms that is counted as significant. By default, <code>0.1</code>.</li>
<li><code>libration.periodogram.soft</code> (float): the <em>soft</em> critical value of the peaks on the periodograms that is counted as significant. Used when you <em>really</em> want to find some librations. By default, <code>0.05</code>.</li>
<li><code>libration.period.min</code> (int): the number of years to remove from the beginning and end. If you want to disable the cut of these points, just set it to <code>0</code>. See <a href="../libration/">Libration section</a> for explanation!</li>
<li><code>libration.period.critical</code> (int): the critical value of the maximum libration period used to identify is there libration or not. By default, <code>20000</code> years.</li>
<li><code>libration.monotony.critical</code> (list): critical values for the metric <code>monotony</code>. By default, <code>[0.4, 0.6]</code>.</li>
</ul>
<h2 id="integration-options">Integration options</h2>
<p>See <a href="https://rebound.readthedocs.io/en/latest/integrators.html">rebound documentation</a> for explanation of the integrator's settings.</p>
<ul>
<li><code>integration.tmax</code> (int): the end of the integration. Please note that <code>rebound</code> does not use years as time steps but years divided into 2&pi;. Therefore, if you want to integrate for 1000 years, the value <code>integration.tmax</code> should be set to <code>1000*2&amp;pi;</code> ~ <code>6283</code>. By default, <code>628319</code> (approx. 100000 years).</li>
<li><code>integration.dt</code> (float): the step of the integration (or the initial step for some integrators). By default, <code>0.1</code>.</li>
<li><code>integration.integrator</code> (string): the default integrator from rebound. By default, <code>SABA(10,6,4)</code>. See <a href="https://rebound.readthedocs.io/en/latest/integrators.html">rebound documentation</a>.</li>
<li><code>integration.integrator.safe_mode</code> (int): the parameter of the integration. By default, <code>0</code>. See <a href="https://rebound.readthedocs.io/en/latest/integrators.html">rebound documentation</a></li>
<li><code>integration.integrator.corrector</code> (int): the parameter of the corrector for symplectic integrators. By default, <code>17</code>. See <a href="https://rebound.readthedocs.io/en/latest/integrators.html">rebound documentation</a></li>
<li><code>solar_system_file</code> (str): the name of the cache file used to store the initial data of the Sun, planets, and Pluto. It is used to speed up the creation of the simulation. By default, <code>cache/solar.bin</code>.</li>
</ul>
<h3 id="access-to-the-parameters-of-rebound">Access to the parameters of <code>rebound</code></h3>
<p>Note that while <code>resonances</code> provides a wrapper for rebound integrators, you may invoke directly some properties or methods in rebound. You can access the simulation object of rebound directly as an attribute <code>sim.sim</code>:</p>
<pre><code class="language-python">sim = resonances.Simulation()
# ...
# set rebound value for whfast corrector
sim.sim.N_active = 10
sim.sim.ri_whfast.corrector = 17
sim.sim.dt = 0.01
</code></pre>
<p><code>resonances</code> will not override these values. It sets it only once through initialisation from config.</p>
<h2 id="astdys-and-catalogue-options">AstDyS and Catalogue options</h2>
<ul>
<li><code>astdys.catalog.url</code> (str): the URl of the AstDyS catalogue used to download at the first run.</li>
<li><code>astdys.catalog</code> (str): if AstDyS catalogue is already downloaded, you may specify its location. By default, <code>cache/allnum.cat</code>.</li>
<li><code>astdys.date</code> (str): the date of the data in AstDyS catalogue converted from MJD to the datetime format. By default, <code>2020-12-17 00:00</code>.</li>
<li><code>catalog</code> (str): the path of the file used to store the converted AstDyS catalogue.</li>
<li><code>catalog.date</code> (str): the date of the current converted AstDyS catalogue.</li>
</ul>
<h2 id="matrices">Matrices</h2>
<p>The mean motion resonance represents a commensurability between the frequencies of several bodies and an asteroid, which implies the oscillations of the resonant angle. The resonant angle has integer coefficients for every variable included. While there are almost no limitations on the values of these integers, the number of possible resonances is infinite. Thus, it should be somehow limited to avoid an infinite loop. These limitations are in <code>matrix.</code> section of the config.</p>
<p>For more details, please see <a href="../matrix/">Matrix page</a> and the following papers (note that they have different approaches to setting up the limits):</p>
<ol>
<li>Smirnov, E. A., Dovgalev, I. S. &amp; Popova, E. A. Asteroids in three-body mean motion resonances with planets. Icarus (2017) doi:10.1016/j.icarus.2017.09.032.</li>
<li>Smirnov, E. A. &amp; Shevchenko, I. I. Massive identification of asteroids in three-body resonances. Icarus 222, 220–228 (2013).</li>
<li>
<p>Nesvorný, D. &amp; Morbidelli, A. Three-Body Mean Motion Resonances and the Chaotic Structure of the Asteroid Belt. The Astronomical Journal 116, 3029–3037 (1998).</p>
</li>
<li>
<p><code>matrix.3body.primary_max</code> (int): the maximum value of the integer for the first planet for three-body resonances. Should be always positive.</p>
</li>
<li><code>matrix.3body.coefficients_max</code> (int): the maximum value of the integer for the other planet and the asteroid in three-body resonance. Should be always positive.</li>
<li><code>matrix.3body.max_order</code> (int): the maximum value of the order of the three-body mean motion resonance. The order is the absolute value of the sum of the integers for the mean longitudes. Should be always positive.</li>
<li><code>matrix.3body.file</code> (str): the path to the file where the app dumps the calculated values of the corresponding semi-major axis.</li>
<li><code>matrix.2body.*</code> (mixed): the same but for two-body resonances.</li>
</ol>
<h2 id="other">Other</h2>
<ul>
<li><code>log.file</code> (str): the path to the file where the app stores log data.</li>
<li><code>log.level</code> (str): the default level what the app should store in the log file (options: <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>critical</code>). The default value is <code>info</code>.</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../matrix/" class="btn btn-neutral float-left" title="Resonance Matrices"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../console/" class="btn btn-neutral float-right" title="Console commands">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/smirik/resonances" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../matrix/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../console/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
